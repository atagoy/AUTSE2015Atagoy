/** @author Ardeleanu Ionut @langversion JAVASCRIPT http://www.appticles.com ionut@appticles.com */ function WMPPreloader(){var e=this;this.defaultParams={width:320,height:80,message:"Please wait..."};this.start=function(e){this.defaultParams=jQuery.extend({},this.defaultParams,e);jQuery("#preloader_container").remove();jQuery("body *:first",document).before('<div id="preloader_container" style="position:fixed; z-index:999998; display:none;"><div class="preloader"></div><div style="position:fixed; background: #000;"><div id="preloader_table" align="center" style="font-family:Arial, Helvetica, sans-serif; font-size:12px; color:#FFF; padding:10px;">'+this.defaultParams.message+'<br><br><img src="'+WMPJSInterface.localpath+'admin/images/loading_animation.gif" /></div></div></div>');var t=jQuery("#preloader_container");var n=jQuery("#preloader_table",t);var r=jQuery(".preloader",t);var i=this.defaultParams.width;var s=this.defaultParams.height;n.width(i-20);n.height(s-20);n.parent().width(i);n.parent().height(s);r.width(i);r.height(s);r.parent().width(i);r.parent().height(s);var o=-i/2+"px";var u=-s/2+"px";t.css({top:"50%",left:"50%","margin-left":o,"margin-top":u}).fadeIn(500);t.css({top:"50%",left:"50%","margin-left":o,"margin-top":u}).fadeIn(500)};this.update=function(e){var t=jQuery("#preloader_container");var n=jQuery("#preloader_table",t);n.get(0).rows[0].cells[0].innerHTML=e};this.remove=function(e){if(jQuery("#loading_container")!=null){jQuery("#loading_container").remove()}if(e==null){e=100}var t=jQuery("#preloader_container");t.stop();t.fadeOut({duration:e},function(){t.remove()})}}function WMPMessage(){var e=this;this.defaultParams={width:450,time:8e3,speed:500,delay:500,message:"",closeFunction:null};this.parentContainer;this.container;this.view=function(t){this.defaultParams=jQuery.extend({},this.defaultParams,t);var n=jQuery('div[id="wmpMessageBox"]',this.parentContainer).get().length;var r='<div id="wmpMessageBox" class="loader" style="display:none;">';r+='<div id="wmpBoxTable" align="left" style="background: #fefcd4;">';r+='<div style="float:right; height:15px; padding-right:5px; padding-top:5px"><img id="wmpCloseMsg" src="'+WMPJSInterface.localpath+'admin/images/btn_close_msg.png" border="0" style="cursor:pointer" /></div>';r+='<div align="center" style="font-family:Arial, Helvetica, sans-serif; font-size:12px; color:#000; padding:15px;">'+this.defaultParams.message+"</div>";r+="</div>";r+="</div>";r+='<div style="height:5px;"></div>';jQuery(this.parentContainer).append(r);this.container=jQuery('div[id="wmpMessageBox"]:eq('+n+")",this.parentContainer);var i=jQuery("#wmpBoxTable",this.container);var s=jQuery("#wmpCloseMsg",i);var o=this.defaultParams.width;i.width(o);i.parent().width(o);this.container.delay(this.defaultParams.delay).slideDown(this.defaultParams.speed);this.container.unbind("countTimer");this.container.bind("countTimer",function(){var t=e.defaultParams.time;if(t/1e3-1>=1){e.defaultParams.time-=1e3}else{jQuery(this).unbind("countTimer");clearInterval(jQuery(this).data("timerInterval"));jQuery(this).removeData("timerInterval");e.remove();if(typeof e.defaultParams.closeFunction=="function")e.defaultParams.closeFunction()}});this.container.data("timerInterval",setInterval(function(){e.container.trigger("countTimer")},1e3));s.unbind("click");s.bind("click",function(){jQuery(this).unbind("click");e.remove()})};this.remove=function(){e.container.slideUp(e.defaultParams.speed,function(){var e=jQuery(this).next();jQuery(this).remove();e.slideUp(200,function(){jQuery(this).remove()})})}}function WMPLoader(){var e=this;this.arr_messages=[];this.init=function(){jQuery("#wmp_messages_container").remove();jQuery(jQuery("body").get(0)).append('<div align="center" id="wmp_messages_container" style="position:fixed; z-index:999999; width: 100%; display:block; top: 5px; margin: 0 auto;"></div>');var e=jQuery("#wmp_messages_container")};this.display=function(e){var t=jQuery("#wmp_messages_container");var n=new WMPMessage;n.parentContainer=t;this.arr_messages.push(n);n.view(e)}}