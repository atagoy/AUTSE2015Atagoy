function WMP_EDIT_PAGES(){var e=this;this.type="wmp_editpages";this.form;this.DOMDoc;this.changingStatus=false;this.editPageDialogWindow;this.changingOrder=false;this.init=function(){WMPJSInterface=window.parent.WMPJSInterface;this.form=this.DOMDoc.getElementById(this.type+"_form");if(this.form==null){return}this.initPages();this.initListActions()};this.initListActions=function(){jQuery("ul.pages",this.DOMDoc).sortable({update:function(t,n){e.changeOrder()}});this.update();jQuery("ul.pages li div.row",this.DOMDoc).on("click",e.changeStatus)};this.initPages=function(){jQuery("#"+e.type+"_warning a.close-x",this.form).on("click",function(){jQuery("#"+e.type+"_warning",e.DOMDoc).hide()})};this.changeStatus=function(){var t=jQuery(this).closest("li").attr("data-page-id");var n=jQuery(this).closest("li");var r=confirm("Are you sure you want to change the status for this page?");if(r){var i;var s=jQuery(".status",n);if(s.hasClass("active")==false){i="active"}else{i="inactive"}if(e.changingStatus==false){WMPJSInterface.Preloader.start();jQuery.post(ajaxurl,{action:"wmp_content_pagestatus",id:t,status:i},function(t){e.changingStatus=false;WMPJSInterface.Preloader.remove(100);var t=Boolean(Number(String(t)));if(t==true){s.addClass(i);s.removeClass(i=="active"?"inactive":"active");s.text(i);var n="The status of this category has been changed.";WMPJSInterface.Loader.display({message:n});var r=jQuery("li span.active",e.form).length;if(r>0){jQuery("#"+e.type+"_warning",e.DOMDoc).hide()}else{jQuery("#"+e.type+"_warning",e.DOMDoc).show()}}else{var n="There was an error. Please reload the page and try again in few seconds or contact the plugin administrator if the problem persists.";WMPJSInterface.Loader.display({message:n})}})}}};this.changeOrder=function(){if(e.changingStatus==true)return;var t="";jQuery("ul.pages li",e.DOMDoc).each(function(e,n){t+=jQuery(this).attr("data-page-id")+",";var r=e+1;jQuery(this).attr("data-order",r)});WMPJSInterface.Preloader.start();e.changingStatus=true;jQuery.post(ajaxurl,{action:"wmp_content_order",type:"pages",ids:t},function(t){WMPJSInterface.Preloader.remove(100);e.changingStatus=false;var t=Boolean(Number(String(t)));if(t==true){var n="The order of the pages has been successfully changed.";WMPJSInterface.Loader.display({message:n})}else{var n="There was an error. Please reload the page and try again in few seconds or contact the plugin administrator if the problem persists.";WMPJSInterface.Loader.display({message:n})}})};this.update=function(){var t=jQuery("ul.pages li",this.DOMDoc).length;if(t>1){jQuery("ul.pages",e.DOMDoc).sortable("enable")}else{jQuery("ul.pages",e.DOMDoc).sortable("disable")}}}