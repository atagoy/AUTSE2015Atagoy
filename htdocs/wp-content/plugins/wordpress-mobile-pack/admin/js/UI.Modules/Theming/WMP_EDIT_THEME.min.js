function WMP_EDIT_THEME(){var e=this;this.type="wmp_edittheme";this.form;this.DOMDoc;this.send_btn;this.enableCustomSelects=0;this.init=function(){WMPJSInterface=window.parent.WMPJSInterface;this.send_btn=jQuery("#"+this.type+"_send_btn",this.DOMDoc).get(0);this.form=this.DOMDoc.getElementById(this.type+"_form");this.addButtonsActions();if(this.form==null){return}this.initCustomSelects()};this.initCustomSelects=function(){if(this.enableCustomSelects==1){jQuery("#"+e.type+"_fontheadlines").selectBoxIt();jQuery("#"+e.type+"_fontsubtitles").selectBoxIt();jQuery("#"+e.type+"_fontparagraphs").selectBoxIt()}};this.addButtonsActions=function(){jQuery(this.send_btn).unbind("click");jQuery(this.send_btn).bind("click",function(){e.disableButton(this);e.sendData()});e.enableButton(this.send_btn)};this.enableButton=function(e){jQuery(e).css("cursor","pointer");jQuery(e).animate({opacity:1},100)};this.disableButton=function(e){jQuery(e).unbind("click");jQuery(e).animate({opacity:.4},100);jQuery(e).css("cursor","default")};this.submitForm=function(){return WMPJSInterface.AjaxUpload.dosubmit(e.form,{onStart:e.startUploadingData,onComplete:e.completeUploadingData})};this.sendData=function(){jQuery("#"+this.form.id,this.DOMDoc).unbind("submit");jQuery("#"+this.form.id,this.DOMDoc).bind("submit",function(){e.submitForm()});jQuery("#"+this.form.id,this.DOMDoc).submit();e.disableButton(e.send_btn)};this.startUploadingData=function(){WMPJSInterface.Preloader.start();setTimeout(function(){var t=e.form.elements;nElems=t.length;for(j=0;j<nElems;j++){t[j].disabled=true}},300);return true};this.completeUploadingData=function(t){jQuery("#"+e.form.id,e.DOMDoc).unbind("submit");jQuery("#"+e.form.id,e.DOMDoc).bind("submit",function(){return false});WMPJSInterface.Preloader.remove(100);t=Boolean(Number(String(t)));if(t==true){var n="Your app has been successfully modified!";WMPJSInterface.Loader.display({message:n})}else{var n="There was an error. Please reload the page and try again.";WMPJSInterface.Loader.display({message:n})}setTimeout(function(){var t=e.form.elements;nElems=t.length;for(j=0;j<nElems;j++){t[j].disabled=false}},300);e.addButtonsActions()}}