function WMP_SEND_FEEDBACK(){var e=this;this.type="wmp_feedback";this.form;this.DOMDoc;this.init=function(){WMPJSInterface=window.parent.WMPJSInterface;this.send_btn=jQuery("#"+this.type+"_send_btn",this.DOMDoc).get(0);this.form=this.DOMDoc.getElementById(this.type+"_form");this.addButtonsActions();if(this.form==null){return}this.initValidation()};this.initValidation=function(){this.validator=jQuery("#"+this.form.id,this.DOMDoc).validate({rules:{wmp_feedback_email:{required:true,email:true},wmp_feedback_name:{required:true},wmp_feedback_message:{required:true}},errorPlacement:function(t,n){var r=n[0].id.split("_");var i=r.length>1?r[r.length-1]:r[0];var s=jQuery("#error_"+i+"_container",e.DOMDoc);t.appendTo(s)},errorElement:"span"});var t=jQuery("#"+this.type+"_name",this.DOMDoc);t.data("holder",t.attr("placeholder"));t.focusin(function(){jQuery(this).attr("placeholder","")}).focusout(function(){jQuery(this).attr("placeholder",jQuery(this).data("holder"))});var n=jQuery("#"+this.type+"_email",this.DOMDoc);n.data("holder",n.attr("placeholder"));n.focusin(function(){jQuery(this).attr("placeholder","")}).focusout(function(){jQuery(this).attr("placeholder",jQuery(this).data("holder"))});var r=jQuery("#"+this.type+"_message",this.DOMDoc);r.data("holder",r.attr("placeholder"));r.focusin(function(){jQuery(this).attr("placeholder","")}).focusout(function(){jQuery(this).attr("placeholder",jQuery(this).data("holder"))})};this.addButtonsActions=function(){jQuery(this.send_btn).unbind("click");jQuery(this.send_btn).bind("click",function(){e.disableButton(this);e.validate()});e.enableButton(this.send_btn)};this.enableButton=function(e){jQuery(e).css("cursor","pointer");jQuery(e).animate({opacity:1},100)};this.disableButton=function(e){jQuery(e).unbind("click");jQuery(e).animate({opacity:.4},100);jQuery(e).css("cursor","default")};this.scrollToError=function(t){var n=jQuery("html,body",e.DOMDoc);var r=parseInt(jQuery("html,body").scrollTop())||parseInt(jQuery("body").scrollTop());var i=n.get(0).clientHeight;var s=parseInt(n.offset().top);if(t<r){jQuery(n).animate({scrollTop:t-20},1e3)}else if(t>r+i){jQuery(n).animate({scrollTop:r+i},1e3)}};this.validate=function(){jQuery(this.form).validate().form();var t=[];for(var n in this.validator.invalid){var r=jQuery(this.form[n]);t.push(r.offset().top)}if(t.length==0){e.sendData()}else{t.sort(function(e,t){return e-t});e.scrollToError(t[0]);e.addButtonsActions()}};this.submitForm=function(){return WMPJSInterface.AjaxUpload.dosubmit(e.form,{onStart:e.startUploadingData,onComplete:e.completeUploadingData})};this.sendData=function(){jQuery("#"+this.form.id,this.DOMDoc).unbind("submit");jQuery("#"+this.form.id,this.DOMDoc).bind("submit",function(){e.submitForm()});jQuery("#"+this.form.id,this.DOMDoc).submit();e.disableButton(e.send_btn)};this.startUploadingData=function(){var t="Please wait...";WMPJSInterface.Preloader.start({message:t});setTimeout(function(){var t=e.form.elements;nElems=t.length;for(j=0;j<nElems;j++){t[j].disabled=true}},300);jQuery(".feedback",e.DOMDoc).animate({opacity:.4},300);return true};this.completeUploadingData=function(t){jQuery("#"+e.form.id,e.DOMDoc).unbind("submit");jQuery("#"+e.form.id,e.DOMDoc).bind("submit",function(){return false});t=Boolean(Number(String(t)));WMPJSInterface.Preloader.remove(100);if(t){var n="Thank you for your message, we'll be in touch with you soon!";WMPJSInterface.Loader.display({message:n});e.form.reset()}else{var n='We were unable to send the message because your mail() function is probably disabled. Please send your message directly to <a href="mailto:feedback@appticles.com">feedback@appticles.com</a>';WMPJSInterface.Loader.display({message:n,time:15e3})}setTimeout(function(){var t=e.form.elements;nElems=t.length;for(j=0;j<nElems;j++){t[j].disabled=false}},300);e.addButtonsActions();jQuery(".feedback",e.DOMDoc).animate({opacity:1},300)}}